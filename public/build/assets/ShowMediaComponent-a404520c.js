import{_}from"./FormWithLabelField-e8758755.js";import{Q as O}from"./@inertiajs-27eca87a.js";import{a as b,g as k}from"./app-90a7b2da.js";import{E as R,F,G as I}from"./@mdi-66fc679a.js";import{e as V,j as w,w as M,o as t,c as s,a as l,V as S,b as C,K as x,L as $,P as f,O as m,I as y,J as j,M as i,S as B,g as L,r as U}from"./@vue-588772e2.js";import{i as A}from"./chart.js-485cbefc.js";const z={class:"flex max-w-full justify-between gap-2 relative"},N={class:"self-center"},P=["accept","multiple","name"],D={key:0,class:"overflow-x-auto px-4 py-2 bg-gray-100 dark:bg-slate-800 border-gray-200 dark:border-slate-700 border rounded"},T={class:"flex justify-start"},E={class:"max-w-fit"},Y={__name:"FormFilePicker",props:{modelValue:{type:[Object,File,Array],default:null},label:{type:String,default:null},icon:{type:String,default:R},accept:{type:String,default:null},color:{type:String,default:"info"},isRoundIcon:Boolean,name:String,isMultiple:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:u}){const r=e,d=V(null),n=V(r.modelValue),g=w(()=>!r.isRoundIcon&&n.value),a=w(()=>r.modelValue);M(a,o=>{n.value=o,o||(d.value.input.value=null)});const c=o=>{n.value=o.target.files||o.dataTransfer.files,u("update:modelValue",n.value)};return(o,p)=>(t(),s("div",z,[l("label",N,[S(b,{class:C({"w-12 h-12":e.isRoundIcon}),color:e.color,icon:e.icon,"icon-size":e.isRoundIcon?24:void 0,label:e.isRoundIcon?null:e.label,"rounded-full":e.isRoundIcon,as:"a"},null,8,["class","color","icon","icon-size","label","rounded-full"]),l("input",{ref_key:"root",ref:d,accept:e.accept,multiple:e.isMultiple,class:"absolute top-0 start-0 w-full h-full opacity-0 outline-none cursor-pointer -z-1",type:"file",name:e.name,onInput:c},null,40,P)]),g.value&&n.value.length?(t(),s("div",D,[(t(!0),s(x,null,$(n.value,(h,v)=>(t(),s("div",T,[l("div",E,[l("span",null,f(v+1),1)]),l("div",null,[l("span",null,"-"+f(h.name),1)])]))),256))])):m("",!0)]))}},G={class:"grid grid-cols-1 xl:grid-cols-2 justify-items-center items-center gap-10"},J=["alt","src"],Q={key:1,class:"h-auto rounded-lg self-center",controls:""},q=["src"],H={key:2,class:"text-xs text-red-500 dark:text-red-400 mt-1"},K={class:"flex gap-5 items-center"},W={key:0,class:"flex gap-2 justify-end w-1/4"},pe={__name:"UploadMediaComponent",props:{modelValue:{type:[Object,File,Array,FileList],default:null},type:{type:String,default:"image"},errors:String,name:String,label:String,isMultiple:Boolean,actions:Object},emits:["update:modelValue","action"],setup(e,{emit:u}){const r=e;O().props.locales;function d(a){u("action",a)}const n=w({get:()=>r.modelValue,set:a=>{u("update:modelValue",a)}});let g=URL;return(a,c)=>(t(),y(_,{cols:{lg:1},errors:a.$page.props.errors[e.name],label:e.label??i(k)("add_image")},{default:j(()=>[l("div",G,[(t(!0),s(x,null,$(n.value,(o,p)=>(t(),s("div",{key:p,class:"my-auto"},[e.type==="image"?(t(),s("img",{key:0,alt:o.name,src:i(g).createObjectURL(o),class:"h-auto rounded-lg self-center"},null,8,J)):e.type==="video"?(t(),s("video",Q,[l("source",{src:i(g).createObjectURL(o),type:"video/mp4"},null,8,q),B(" Your browser does not support the video tag. ")])):m("",!0),a.$page.props.errors[e.name+"."+p]?(t(),s("div",H,f(a.$page.props.errors[e.name+"."+p]),1)):m("",!0),l("div",K,[l("p",{class:C([{"w-3/4":e.actions,"w-full":!e.actions},"mt-2 text-sm text-center break-all text-gray-500 dark:text-gray-400"])},f(o.name),3),e.actions?(t(),s("div",W,[(t(!0),s(x,null,$(e.actions,(h,v)=>(t(),y(b,{key:v,color:h.color,icon:h.icon,onClick:ce=>d(v)},null,8,["color","icon","onClick"]))),128))])):m("",!0)])]))),128))]),S(Y,{modelValue:n.value,"onUpdate:modelValue":c[0]||(c[0]=o=>n.value=o),accept:e.type==="image"?"image/*":e.type==="video"?"video/*":"","is-multiple":e.isMultiple,label:i(k)("select"),name:e.name},null,8,["modelValue","accept","is-multiple","label","name"])]),_:1},8,["errors","label"]))}},X={class:"flex flex-wrap justify-between gap-5"},Z={class:"grid my-auto content-between items-start h-full"},ee={class:"flex items-stretch h-full"},te=["alt","src"],le={key:1,class:"h-auto rounded-lg self-center",controls:""},ae=["src"],se={class:"flex gap-5 justify-self-center items-center w-full"},oe={class:"mt-2 w-3/4 text-sm text-center break-all text-gray-500 dark:text-gray-400"},ne={class:"flex gap-1 items-end"},ie={key:1},re={class:"m-1 lg:m-2"},he={__name:"ShowMediaComponent",props:{items:Object|Array,hasDelete:{type:Boolean,default:!1},hasPrimary:{type:Boolean,default:!1},type:{type:String,default:"image"},label:String},emits:["destroy","primary"],setup(e,{emit:u}){const r=e;let d=A(r.items)?r.items:[r.items];return L({status:null,message:null}),(n,g)=>(t(),y(_,{cols:{lg:1},label:e.label??i(k)("the_image")},{default:j(()=>[l("div",X,[i(d).length?(t(!0),s(x,{key:0},$(i(d),(a,c)=>(t(),s("div",{key:c,class:"md:basis-5/12"},[l("div",Z,[l("div",ee,[e.type==="image"?(t(),s("img",{key:0,alt:a.name,src:a.url,class:"h-auto rounded-lg self-center"},null,8,te)):e.type==="video"?(t(),s("video",le,[l("source",{src:a.url,type:"video/mp4"},null,8,ae),B(" Your browser does not support the video tag. ")])):m("",!0)]),l("div",se,[l("p",oe,f(a.name),1),l("div",ne,[e.hasDelete?(t(),y(b,{key:0,icon:i(F),color:"danger",onClick:o=>i(u)("destroy",a.id,c)},null,8,["icon","onClick"])):m("",!0),e.hasPrimary?(t(),y(b,{key:1,disabled:a.primary,icon:i(I),color:"success",onClick:o=>i(u)("primary",a.id,c)},null,8,["disabled","icon","onClick"])):m("",!0)])])])]))),128)):(t(),s("div",ie,f(i(k)("no_data")),1))]),l("div",re,[U(n.$slots,"default")])]),_:3},8,["label"]))}};export{pe as _,he as a};
