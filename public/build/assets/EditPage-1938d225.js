import{A as O,e as p,o as d,I as f,J as i,V as l,M as e,B as E,Q as _,Y as c,a as g,c as U,L as j,K as B}from"./@vue-588772e2.js";import{_ as q}from"./ActionConfirmComponent-07d26409.js";import{_ as b}from"./FormField-dc7910ae.js";import{p as S,q as x,g as o,_ as V}from"./app-90a7b2da.js";import{T as C}from"./@inertiajs-27eca87a.js";import{_ as $}from"./FormWithLabelField-e8758755.js";import{_ as L}from"./StepsComponent-41615805.js";import{_ as N}from"./MetaDataComponent-6ba6b588.js";import{_ as A,a as D}from"./ShowMediaComponent-a404520c.js";const G={__name:"EditPage",props:{editedPage:Object,isModal:{type:Boolean,default:!1}},setup(y){const r=y;console.log(r.editedPage);let m=r.isModal?O("showEditPage"):p(!0),h=S(),v=Object.keys(h),k=r.editedPage,a=C({title:r.editedPage.translations.title??{},content:r.editedPage.translations.content??{},priority:r.editedPage.priority??null,image:null,meta:x(r.editedPage.meta),_method:"put"}),w=p([o("main_data"),o("meta"),o("media")]),n=p(0);function M(){console.log(a),a.post(route("dashboard.pages.update",r.editedPage),{preserveScroll:!0,preserveState:P=>Object.keys(P.props.errors).length,onSuccess:()=>{m.value=!1}})}return(P,s)=>(d(),f(q,{"button-label":e(o)("edit"),"has-cancel":!0,hasErrors:e(a).hasErrors,"is-form":!0,"is-modal":y.isModal,"model-value":e(m),title:e(o)("edit_field",{field:"page"}),onCancel:s[3]||(s[3]=t=>E(m)?m.value=!1:m=!1),onConfirm:M},{default:i(()=>[l(L,{modelValue:e(n),"onUpdate:modelValue":s[0]||(s[0]=t=>E(n)?n.value=t:n=t),steps:e(w)},null,8,["modelValue","steps"]),_(g("section",null,[l($,{label:e(o)("name")},{default:i(()=>[(d(!0),U(B,null,j(e(v),t=>(d(),f(b,{errors:e(a).errors[`title.${t}`],label:e(o)(t)},{default:i(()=>[l(V,{modelValue:e(a).title[t],"onUpdate:modelValue":u=>e(a).title[t]=u,autocomplete:`title[${t}]`,name:`title[${t}]`,required:""},null,8,["modelValue","onUpdate:modelValue","autocomplete","name"])]),_:2},1032,["errors","label"]))),256))]),_:1},8,["label"]),l($,{cols:{lg:1},label:e(o)("content")},{default:i(()=>[(d(!0),U(B,null,j(e(v),t=>(d(),f(b,{errors:e(a).errors[`content.${t}`],label:e(o)(t)},{default:i(()=>[l(V,{modelValue:e(a).content[t],"onUpdate:modelValue":u=>e(a).content[t]=u,autocomplete:`content[${t}]`,dir:t==="ar"?"rtl":"ltr",name:`content[${t}]`,required:"",type:"editor"},null,8,["modelValue","onUpdate:modelValue","autocomplete","dir","name"])]),_:2},1032,["errors","label"]))),256))]),_:1},8,["label"]),l($,{cols:{lg:1},label:e(o)("priority")},{default:i(()=>[l(b,{errors:e(a).errors.priority},{default:i(()=>[l(V,{modelValue:e(a).priority,"onUpdate:modelValue":s[1]||(s[1]=t=>e(a).priority=t),autocomplete:"priority",name:"priority",required:"",type:"number"},null,8,["modelValue"])]),_:1},8,["errors"])]),_:1},8,["label"])],512),[[c,e(n)===0]]),_(g("section",null,[l(N,{"model-value":e(a)},null,8,["model-value"])],512),[[c,e(n)===1]]),_(g("section",null,[l(D,{items:e(k).image},{default:i(()=>[l(A,{modelValue:e(a).image,"onUpdate:modelValue":s[2]||(s[2]=t=>e(a).image=t),name:"image"},null,8,["modelValue"])]),_:1},8,["items"])],512),[[c,e(n)===2]])]),_:1},8,["button-label","hasErrors","is-modal","model-value","title"]))}};export{G as _};
