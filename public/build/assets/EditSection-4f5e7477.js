import{A as q,e as f,o as m,I as _,J as r,V as l,M as e,B as g,Q as v,a as E,c as U,K as B,L as S,Y as h}from"./@vue-588772e2.js";import{_ as C}from"./ActionConfirmComponent-07d26409.js";import{_ as V}from"./FormField-dc7910ae.js";import{g as a,_ as b}from"./app-90a7b2da.js";import{Q as w,T as x}from"./@inertiajs-27eca87a.js";import{_ as y}from"./FormWithLabelField-e8758755.js";import{_ as L}from"./StepsComponent-41615805.js";import{a as N,_ as O}from"./ShowMediaComponent-a404520c.js";const R={__name:"EditSection",props:{section:Object,isModal:{type:Boolean,default:!1}},setup(d){const n=d;let $=w().props.locales,u=n.isModal?q("showEditSection"):f(!0),o=x({title:n.section.translations.title,content:n.section.translations.content,page_id:n.section.page.id,type:n.section.type,image:null,_method:"put",meta:n.section.meta}),k=f([a("main_data"),a("media")]),i=f(0),M=w().props.section_types;console.log(M);function j(){o.post(route("dashboard.sections.update",n.section.id),{preserveScroll:!0,preserveState:p=>Object.keys(p.props.errors).length})}return(p,s)=>(m(),_(C,{"button-label":e(a)("edit"),"has-cancel":!0,hasErrors:e(o).hasErrors,"is-form":!0,"is-modal":d.isModal,"model-value":e(u),title:e(a)("edit_field",{field:"section"}),onCancel:s[3]||(s[3]=t=>g(u)?u.value=!1:u=!1),onConfirm:j},{default:r(()=>[l(L,{modelValue:e(i),"onUpdate:modelValue":s[0]||(s[0]=t=>g(i)?i.value=t:i=t),steps:e(k)},null,8,["modelValue","steps"]),v(E("section",null,[l(y,{label:e(a)("title")},{default:r(()=>[(m(!0),U(B,null,S(e($),t=>(m(),_(V,{errors:e(o).errors[`title.${t}`],label:e(a)(t)},{default:r(()=>[l(b,{modelValue:e(o).title[t],"onUpdate:modelValue":c=>e(o).title[t]=c,autocomplete:`title[${t}]`,name:`title[${t}]`,required:""},null,8,["modelValue","onUpdate:modelValue","autocomplete","name"])]),_:2},1032,["errors","label"]))),256))]),_:1},8,["label"]),l(y,{cols:{lg:1},label:e(a)("content")},{default:r(()=>[(m(!0),U(B,null,S(e($),t=>(m(),_(V,{errors:e(o).errors[`content.${t}`],label:e(a)(t)},{default:r(()=>[l(b,{modelValue:e(o).content[t],"onUpdate:modelValue":c=>e(o).content[t]=c,autocomplete:`content[${t}]`,dir:t==="ar"?"rtl":"ltr",name:`content[${t}]`,required:"",type:"editor"},null,8,["modelValue","onUpdate:modelValue","autocomplete","dir","name"])]),_:2},1032,["errors","label"]))),256))]),_:1},8,["label"]),l(y,{label:e(a)("type")},{default:r(()=>[l(V,{errors:e(o).errors.type},{default:r(()=>[l(b,{type:"select",options:p.$page.props.section_types,modelValue:e(o).type,"onUpdate:modelValue":s[1]||(s[1]=t=>e(o).type=t),autocomplete:"type",name:"type",required:""},null,8,["options","modelValue"])]),_:1},8,["errors"])]),_:1},8,["label"])],512),[[h,e(i)===0]]),v(E("section",null,[l(N,{items:d.section.image},{default:r(()=>[l(O,{modelValue:e(o).image,"onUpdate:modelValue":s[2]||(s[2]=t=>e(o).image=t),name:"image"},null,8,["modelValue"])]),_:1},8,["items"])],512),[[h,e(i)===1]])]),_:1},8,["button-label","hasErrors","is-modal","model-value","title"]))}};export{R as _};
