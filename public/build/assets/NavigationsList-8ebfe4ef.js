import{_ as M,a as J,b as K}from"./ActionConfirmComponent-07d26409.js";import{_ as $}from"./FormField-dc7910ae.js";import{g as d,_ as V,o as P}from"./app-90a7b2da.js";import{Q as S,T,O as q}from"./@inertiajs-27eca87a.js";import{_ as E}from"./FormWithLabelField-e8758755.js";import{A as D,o as s,I as c,J as n,a as v,V as r,c as g,L as U,M as e,K as O,B as A,e as C,Z as I,g as Q,P as k,O as L}from"./@vue-588772e2.js";import{_ as R}from"./TableOptions-5b065721.js";import{_ as Z}from"./CardBox-62d8fdfd.js";import{_ as x}from"./sortablejs-vue3-78a6c49c.js";const me={__name:"CreateNavigation",props:{navigation:Object},setup(y){var _;const p=y;let m=S().props.locales,u=D("showCreateNavigation"),a=T({title:{},link:{},type:null,navigation_id:(_=p.navigation)==null?void 0:_.id}),h=S().props.navigation_types;function N(){a.post(route("dashboard.navigations.store"),{preserveScroll:!0,preserveState:f=>Object.keys(f.props.errors).length,onSuccess:()=>{u.value=!1}})}return(f,l)=>(s(),c(M,{"button-label":e(d)("create"),"has-cancel":!0,hasErrors:e(a).hasErrors,"is-form":!0,"model-value":e(u),title:e(d)("create_field",{field:"navigation"}),onCancel:l[1]||(l[1]=o=>A(u)?u.value=!1:u=!1),onConfirm:N},{default:n(()=>[v("section",null,[r(E,{label:e(d)("title")},{default:n(()=>[(s(!0),g(O,null,U(e(m),o=>(s(),c($,{errors:e(a).errors[`title.${o}`],label:e(d)(o)},{default:n(()=>[r(V,{modelValue:e(a).title[o],"onUpdate:modelValue":w=>e(a).title[o]=w,autocomplete:`title[${o}]`,name:`title[${o}]`,required:""},null,8,["modelValue","onUpdate:modelValue","autocomplete","name"])]),_:2},1032,["errors","label"]))),256))]),_:1},8,["label"]),r(E,{label:e(d)("link")},{default:n(()=>[(s(!0),g(O,null,U(e(m),o=>(s(),c($,{errors:e(a).errors[`link.${o}`],label:e(d)(o)},{default:n(()=>[r(V,{modelValue:e(a).link[o],"onUpdate:modelValue":w=>e(a).link[o]=w,autocomplete:`link[${o}]`,name:`link[${o}]`,required:""},null,8,["modelValue","onUpdate:modelValue","autocomplete","name"])]),_:2},1032,["errors","label"]))),256))]),_:1},8,["label"]),r(E,{cols:{lg:1},label:e(d)("type")},{default:n(()=>[r($,{errors:e(a).errors.type},{default:n(()=>[r(V,{modelValue:e(a).type,"onUpdate:modelValue":l[0]||(l[0]=o=>e(a).type=o),options:e(h),autocomplete:"type",name:"type",required:"",type:"select"},null,8,["modelValue","options"])]),_:1},8,["errors"])]),_:1},8,["label"])])]),_:1},8,["button-label","hasErrors","model-value","title"]))}},z={__name:"EditNavigation",props:{navigation:Object,isModal:{type:Boolean,default:!1}},setup(y){const p=y;let m=S().props.locales,u=p.isModal?D("showEditNavigation"):C(!0),a=T({title:p.navigation.translations.title,type:p.navigation.type,link:P(p.navigation.translations.link)}),h=S().props.navigation_types;function N(){a.put(route("dashboard.navigations.update",p.navigation.id),{preserveScroll:!0,preserveState:_=>Object.keys(_.props.errors).length})}return(_,f)=>(s(),c(M,{"button-label":e(d)("edit"),"has-cancel":!0,hasErrors:e(a).hasErrors,"is-form":!0,"is-modal":y.isModal,"model-value":e(u),title:e(d)("edit_field",{field:"navigation"}),onCancel:f[1]||(f[1]=l=>A(u)?u.value=!1:u=!1),onConfirm:N},{default:n(()=>[v("section",null,[r(E,{label:e(d)("title")},{default:n(()=>[(s(!0),g(O,null,U(e(m),l=>(s(),c($,{errors:e(a).errors[`title.${l}`],label:e(d)(l)},{default:n(()=>[r(V,{modelValue:e(a).title[l],"onUpdate:modelValue":o=>e(a).title[l]=o,autocomplete:`title[${l}]`,name:`title[${l}]`,required:""},null,8,["modelValue","onUpdate:modelValue","autocomplete","name"])]),_:2},1032,["errors","label"]))),256))]),_:1},8,["label"]),r(E,{label:e(d)("link")},{default:n(()=>[(s(!0),g(O,null,U(e(m),l=>(s(),c($,{errors:e(a).errors[`link.${l}`],label:e(d)(l)},{default:n(()=>[r(V,{modelValue:e(a).link[l],"onUpdate:modelValue":o=>e(a).link[l]=o,autocomplete:`link[${l}]`,name:`link[${l}]`,required:""},null,8,["modelValue","onUpdate:modelValue","autocomplete","name"])]),_:2},1032,["errors","label"]))),256))]),_:1},8,["label"]),r(E,{cols:{lg:1},label:e(d)("type")},{default:n(()=>[r($,{errors:e(a).errors.type},{default:n(()=>[r(V,{modelValue:e(a).type,"onUpdate:modelValue":f[0]||(f[0]=l=>e(a).type=l),options:e(h),autocomplete:"type",name:"type",required:"",type:"select"},null,8,["modelValue","options"])]),_:1},8,["errors"])]),_:1},8,["label"])])]),_:1},8,["button-label","hasErrors","is-modal","model-value","title"]))}},G={class:"rtl:flex-row-reverse",draggable:"true"},H={"data-label":"#"},W=["data-label"],X=["data-label"],Y=["href"],ee={key:1},te=["data-label"],ae=["data-label"],_e={__name:"NavigationsList",props:{navigations:Object,pageId:Number},setup(y){const p=y;let m=C(!1),u=C(!1),a=C({}),h=C(null);I("showEditNavigation",m),I("actionConfirm",u);let N=p.navigations.map((t,b)=>({id:t.id,title:t.title,type:t.type,page_id:t.page_id,link:t.link,created_at:t.created_at})),_=Q(N);S().props.locales;function f(t){a.value=p.navigations.find(b=>b.id===t.id),m.value=!0}function l(t){u.value=!0,h=t.id}function o(){q.delete(route("dashboard.navigations.destroy",h),{preserveState:t=>Object.keys(t.props.errors).length,preserveScroll:!0})}function w(t,b,i){if(b!==i){const j=t.splice(b,1)[0];t.splice(i,0,j),q.post(route("dashboard.navigations.sort"),{navigations:t},{preserveState:!0})}}function F(t){q.visit(route("dashboard.navigations.show",t))}return(t,b)=>(s(),g(O,null,[r(Z,{"has-table":""},{default:n(()=>[r(J,{headers:["#",t.__("title"),t.__("type"),t.__("link"),t.__("created_at")],"is-draggable":""},{default:n(()=>[Object.keys(e(_)).length?(s(),c(e(x),{key:0,list:e(_),class:"rtl:flex-row-reverse","item-key":"id",tag:"tbody",onEnd:b[0]||(b[0]=i=>w(e(_),i.oldIndex,i.newIndex))},{item:n(({element:i,index:j})=>[v("tr",G,[v("td",H,k(j+1),1),v("td",{"data-label":t.__("title")},k(i.title),9,W),v("td",{"data-label":t.__("type")},k(i.type),9,X),v("td",null,[i.link?(s(),g("a",{key:0,href:i.link},k(i.link),9,Y)):(s(),g("p",ee,k(t.__("no_data")),1))]),v("td",{"data-label":t.__("created_at")},k(i.created_at),9,te),v("td",{"data-label":t.__("options")},[r(R,{model:"navigations",onDestroy:B=>l(i),onEdit:B=>f(i),onShow:B=>F(i)},null,8,["onDestroy","onEdit","onShow"])],8,ae)])]),_:1},8,["list"])):L("",!0)]),_:1},8,["headers"])]),_:1}),e(m)?(s(),c(z,{key:0,navigation:e(a),"is-modal":""},null,8,["navigation"])):L("",!0),r(K,{onConfirm:o})],64))}};export{_e as _,me as a,z as b};
