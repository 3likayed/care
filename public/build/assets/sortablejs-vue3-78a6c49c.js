import{S as h}from"./sortablejs-0d19b1d3.js";import{i as g,G as C,e as u,j as S,w as i,H as K,o as p,I as k,J as $,r as c,c as q,K as M,L as b,M as j,b as w,N as A}from"./@vue-588772e2.js";const R=g({__name:"Sortable",props:{options:{type:Object,default:null,required:!1},list:{type:[Array,Object],default:[],required:!0},itemKey:{type:[String,Function],default:"",required:!0},tag:{type:String,default:"div",required:!1}},emits:["choose","unchoose","start","end","add","update","sort","remove","filter","move","clone","change"],setup(d,{expose:v,emit:t}){const r=d,f=C(),l=u(!1),a=u(null),n=u(null),y=S(()=>typeof r.itemKey=="string"?o=>o[r.itemKey]:r.itemKey);return v({containerRef:a,sortable:n,isDragging:l}),i(a,o=>{o&&(n.value=new h(o,{...r.options,onChoose:e=>t("choose",e),onUnchoose:e=>t("unchoose",e),onStart:e=>{l.value=!0,t("start",e)},onEnd:e=>{setTimeout(()=>{l.value=!1,t("end",e)})},onAdd:e=>t("add",e),onUpdate:e=>t("update",e),onSort:e=>t("sort",e),onRemove:e=>t("remove",e),onFilter:e=>t("filter",e),onMove:(e,s)=>"onMoveCapture"in f?f.onMoveCapture(e,s):t("move",e,s),onClone:e=>t("clone",e),onChange:e=>t("change",e)}))}),i(()=>r.options,o=>{if(o&&(n!=null&&n.value))for(const e in o)n.value.option(e,o[e])}),K(()=>{n.value&&(n.value.destroy(),a.value=null,n.value=null)}),(o,e)=>(p(),k(A(o.$props.tag),{ref_key:"containerRef",ref:a,class:w(o.$props.class)},{default:$(()=>[c(o.$slots,"header"),(p(!0),q(M,null,b(d.list,(s,m)=>c(o.$slots,"item",{key:j(y)(s),element:s,index:m})),128)),c(o.$slots,"footer")]),_:3},8,["class"]))}});export{R as _};
