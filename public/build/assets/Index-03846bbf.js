import{_ as x}from"./CardBox-62d8fdfd.js";import{_ as B,a as F,b as J}from"./ActionConfirmComponent-07d26409.js";import{_ as K,a as M}from"./SectionTitleLineWithButton-fd96079e.js";import{Q as g,T as P,O as Q}from"./@inertiajs-27eca87a.js";import{t as U,c as T,v as Z}from"./@mdi-66fc679a.js";import{_ as j,g as f,a as z}from"./app-90a7b2da.js";import{_ as G}from"./TableOptions-5b065721.js";import{_ as A}from"./FormField-dc7910ae.js";import{_ as D}from"./FormCheckRadioGroup-f67938a6.js";import{_ as L}from"./FormCheckRadio-844df499.js";import{_ as N}from"./FormWithLabelField-e8758755.js";import{A as q,o as a,I as b,J as c,V as m,M as e,c as k,L as $,K as v,B as S,e as y,Z as w,O,a as V,P as R}from"./@vue-588772e2.js";import{_ as H}from"./BreadCrumb-cdf4b251.js";import"./@fawmi-8b2830bd.js";import"./@googlemaps-29be2690.js";import"./fast-deep-equal-313c1b3e.js";import"./call-bind-ca190c3c.js";import"./get-intrinsic-e274f0e2.js";import"./has-symbols-e8f3ca0e.js";import"./has-proto-f7d0b240.js";import"./function-bind-61637ca6.js";import"./has-6793fb5d.js";import"./supercluster-6504d485.js";import"./kdbush-ac640998.js";import"./axios-21b846bc.js";import"./deepmerge-6e8a2108.js";import"./qs-f6ae62cc.js";import"./side-channel-a0dcedb6.js";import"./object-inspect-b2565fee.js";import"./nprogress-c578ed10.js";import"./lodash.clonedeep-230241b1.js";import"./lodash.isequal-5002b1a4.js";import"./pinia-72bd3b5b.js";import"./ziggy-js-4c580b49.js";/* empty css                               */import"./@tinymce-30eef72e.js";import"./sweetalert2-58dbf6b8.js";import"./laravel-vite-plugin-d10ca5e8.js";const W={__name:"EditRole",props:{role:Object},setup(C){const t=C;let s=q("showEditRole"),_=g().props.permissions.data,n={};_.map(function(o,r){let u=o.name.split(".");(n[u[0]]=n[u[0]]||[]).push({name:u[1],checked:!!t.role.permissions.find(l=>l.id===o.id),id:o.id,key:r})});let i=P({name:t.role.name,permissions:_.map(o=>(o.checked=!!t.role.permissions.find(r=>r.id===o.id),o))});function d(){i.put(route("dashboard.roles.update",t.role.id),{preserveScroll:!0,preserveState:o=>Object.keys(o.props.errors).length,onSuccess:()=>{s.value=!1},onError:()=>console.log(i.permissions)})}return(o,r)=>(a(),b(B,{"button-label":e(f)("edit"),"has-cancel":!0,hasErrors:e(i).hasErrors,"is-form":!0,"model-value":e(s),title:e(f)("edit_field",{field:"role"}),onCancel:r[1]||(r[1]=u=>S(s)?s.value=!1:s=!1),onConfirm:d},{default:c(()=>[m(A,{errors:e(i).errors.name,label:e(f)("name")},{default:c(()=>[m(j,{modelValue:e(i).name,"onUpdate:modelValue":r[0]||(r[0]=u=>e(i).name=u),icon:e(U),autocomplete:"name",name:"name",required:""},null,8,["modelValue","icon"])]),_:1},8,["errors","label"]),(a(!0),k(v,null,$(e(n),(u,l)=>(a(),b(N,{cols:{lg:1},label:e(f)(l)},{default:c(()=>[m(D,null,{default:c(()=>[(a(!0),k(v,null,$(u,(p,h)=>(a(),b(L,{key:h,modelValue:e(i).permissions[p.key].checked,"onUpdate:modelValue":E=>e(i).permissions[p.key].checked=E,checked:e(i).permissions[p.key].checked,label:e(f)(p.name),value:p.id},null,8,["modelValue","onUpdate:modelValue","checked","label","value"]))),128))]),_:2},1024)]),_:2},1032,["label"]))),256))]),_:1},8,["button-label","hasErrors","model-value","title"]))}},X={__name:"CreateRole",setup(C){let t=q("showCreateRole"),s=g().props.permissions.data,_={};s.map(function(d,o){let r=d.name.split(".");(_[r[0]]=_[r[0]]||[]).push({name:r[1],checked:!1,id:d.id,key:o})});let n=P({name:null,permissions:s.map(d=>(d.checked=!1,d))});function i(){n.post(route("dashboard.roles.store"),{preserveScroll:!0,preserveState:d=>Object.keys(d.props.errors).length,onSuccess:()=>{t.value=!1}})}return(d,o)=>(a(),b(B,{"button-label":e(f)("create"),"has-cancel":!0,hasErrors:e(n).hasErrors,"is-form":!0,"model-value":e(t),title:e(f)("create_field",{field:"role"}),onCancel:o[1]||(o[1]=r=>S(t)?t.value=!1:t=!1),onConfirm:i},{default:c(()=>[m(A,{errors:e(n).errors.name,label:e(f)("name")},{default:c(()=>[m(j,{modelValue:e(n).name,"onUpdate:modelValue":o[0]||(o[0]=r=>e(n).name=r),icon:e(U),autocomplete:"name",name:"name",required:""},null,8,["modelValue","icon"])]),_:1},8,["errors","label"]),(a(!0),k(v,null,$(e(_),(r,u)=>(a(),b(N,{cols:{lg:1},label:e(f)(u)},{default:c(()=>[m(D,null,{default:c(()=>[(a(!0),k(v,null,$(r,(l,p)=>(a(),b(L,{key:p,modelValue:e(n).permissions[l.key].checked,"onUpdate:modelValue":h=>e(n).permissions[l.key].checked=h,checked:e(n).permissions[l.key].checked,label:e(f)(l.name),value:l.id},null,8,["modelValue","onUpdate:modelValue","checked","label","value"]))),128))]),_:2},1024)]),_:2},1032,["label"]))),256))]),_:1},8,["button-label","hasErrors","model-value","title"]))}},Y={class:"rtl:flex-row-reverse"},ee={"data-label":"# "},le=["data-label"],oe=["data-label"],re=["data-label"],Je={__name:"Index",setup(C){let t=y(!1),s=y(!1),_=y(!1);w("showEditRole",t),w("showCreateRole",s),w("actionConfirm",_);let n=g().props.roles.data,i=y({}),d=y(null);function o(l){i.value=l,t.value=!0}function r(l){_.value=!0,d=l.id}function u(){Q.delete(route("dashboard.roles.destroy",d),{preserveState:l=>Object.keys(l.props.errors).length,preserveScroll:!0})}return(l,p)=>(a(),k(v,null,[m(K,null,{default:c(()=>[m(H,{items:[{name:l.__("roles"),href:l.route("dashboard.roles.index")}]},null,8,["items"]),m(M,{icon:e(T),title:l.__("roles"),main:""},{default:c(()=>[m(z,{icon:e(Z),color:"success",onClick:p[0]||(p[0]=h=>S(s)?s.value=!0:s=!0)},null,8,["icon"])]),_:1},8,["icon","title"]),m(x,{"has-table":""},{default:c(()=>[m(F,{headers:["#",l.__("name"),l.__("created_at")]},{default:c(()=>[(a(!0),k(v,null,$(e(n),(h,E)=>(a(),k("tr",Y,[V("td",ee,R(E+1),1),V("td",{"data-label":l.__("name"),class:"border-b-0 lg:w-6 before:hidden w-24 mx-auto"},R(h.name),9,le),V("td",{"data-label":l.__("created_at")},R(h.created_at),9,oe),V("td",{"data-label":l.__("options")},[m(G,{model:"roles","has-show":!1,onDestroy:I=>r(h),onEdit:I=>o(h)},null,8,["onDestroy","onEdit"])],8,re)]))),256))]),_:1},8,["headers"])]),_:1})]),_:1}),e(t)?(a(),b(W,{key:0,role:e(i)},null,8,["role"])):O("",!0),e(s)?(a(),b(X,{key:1})):O("",!0),m(J,{onConfirm:u})],64))}};export{Je as default};
